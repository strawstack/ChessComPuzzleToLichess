<a href="javascript:(function()%7Bfunction%20getBoardHTML()%7Blet%20e%3D%22%22%3Breturn%20document.querySelectorAll(%22%23board-board%3Ediv%22).forEach(t%3D%3E%7Be%2B%3D%60%24%7Bt.className%7D%2C%60%7D)%2Ce%7Dfunction%20getWhiteToMove()%7Breturn-1!%3Ddocument.querySelector(%22.section-heading-title%22).innerText.indexOf(%22White%22)%7Dlet%20html%3DgetBoardHTML()%2CwhiteToMove%3DgetWhiteToMove()%2Cboard%3D%5B%5D%3Bfor(let%20e%3D0%3Be%3C8%3Be%2B%2B)board.push(%5B%220%22%2C%220%22%2C%220%22%2C%220%22%2C%220%22%2C%220%22%2C%220%22%2C%220%22%5D)%3Bfunction%20makeSquare(e)%7Breturn%7Brow%3A8-parseInt(e%5B1%5D)%2B1%2Ccol%3A8-parseInt(e%5B0%5D)%2B1%7D%7Dfunction%20makePiece(e)%7Breturn%7Bwhite%3A%22w%22%3D%3De%5B0%5D%2Ctype%3Ae%5B1%5D%7D%7Dfunction%20makeFenBoard(e)%7Blet%20t%3D%5B%5D%3Bfor(let%20o%3D0%3Bo%3C8%3Bo%2B%2B)%7Blet%20r%3D%5B%5D%2Cn%3D0%3Bfor(let%20t%3D7%3Bt%3E%3D0%3Bt--)%7Blet%20a%3De%5Bo%5D%5Bt%5D%3B0!%3Da%3F(0!%3Dn%26%26(r.push(n)%2Cn%3D0)%2Cr.push(pieceToFen(a)))%3An%2B%3D1%7D0!%3Dn%26%26r.push(n)%2Ct.push(r.join(%22%22))%7Dreturn%20t.join(%22%2F%22)%7Dfunction%20pieceToFen(e)%7Breturn%20e.white%3Fe.type.toUpperCase()%3Ae.type.toLowerCase()%7Dfunction%20orderClasses(e)%7Breturn%20e.length%3E0%26%26%22piece%22%3D%3De%5B0%5D%26%26-1!%3De%5B1%5D.indexOf(%22square%22)%3F%5Be%5B0%5D%2Ce%5B2%5D%2Ce%5B1%5D%5D%3Ae%7Dhtml%3Dhtml.split(%22%2C%22).map(e%3D%3Ee.split(%22%20%22))%3Bfor(let%20e%20of%20html)if(pieceMaybe%3DorderClasses(e)%2CpieceMaybe.length%3E0%26%26%22piece%22%3D%3DpieceMaybe%5B0%5D)%7Blet%20e%3DmakePiece(pieceMaybe%5B1%5D)%2Ct%3DmakeSquare(pieceMaybe%5B2%5D.split(%22-%22)%5B1%5D)%3Bboard%5Bt.row-1%5D%5Bt.col-1%5D%3De%7Dlet%20fenBoard%3DmakeFenBoard(board)%2Cturn%3DwhiteToMove%3F%22w%22%3A%22b%22%2CfenComplete%3D%60%24%7BfenBoard%7D%20%24%7Bturn%7D%20-%20-%200%201%60%2Curl_fen%3DfenComplete.replaceAll(%22%20%22%2C%22_%22)%3Bconsole.log(%60%24%7BfenComplete%7D%5Cn%5Cnhttps%3A%2F%2Flichess.org%2Fanalysis%2Fstandard%2F%24%7Burl_fen%7D%60)%3B%7D)()%3B">ChessComPuzzleToLichess</a>
